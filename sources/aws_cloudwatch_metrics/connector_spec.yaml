# CloudWatch Community Connector Spec
# This file defines the specification for the connector including
# connection parameters and allowlist options.

# ============================================================================
# Connection Parameters
# These are provided when creating the Unity Catalog connection.
# ============================================================================
connection:
  parameters:
    - name: aws_access_key_id
      type: string
      required: true
      description: >
        AWS Access Key ID for authentication. This is used to authenticate
        requests to AWS CloudWatch Metrics API.

    - name: aws_secret_access_key
      type: string
      required: true
      description: >
        AWS Secret Access Key for authentication. This should be stored securely
        and used together with aws_access_key_id for API authentication.

    - name: region
      type: string
      required: true
      description: >
        AWS region where CloudWatch metrics are stored (e.g., 'us-east-1',
        'eu-west-1', 'ap-northeast-1'). This determines which regional
        CloudWatch endpoint to use.

    - name: cloudwatch_metrics_namespace
      type: string
      required: true
      description: >
        CloudWatch namespace for metrics (e.g., 'AWS/EC2', 'AWS/S3', 'AWS/Lambda',
        or custom namespaces). The connector will automatically discover all metrics
        and their dimension combinations within this namespace using the ListMetrics API.

# ============================================================================
# External Options Allowlist
# These table-specific options must be included in the externalOptionsAllowList
# parameter of the UC connection to allow them to be passed through.
# Use a comma-separated string of option names.
# If no table-specific options are needed, set to empty string or omit.
# ============================================================================
external_options_allowlist: "period,statistics,dimensions"

